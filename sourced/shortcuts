#!/bin/bash

## Usage: _mk_cmd_fns cmd1 [cmd2 [...]]
# Make functions that source given commands, enabling things like "cd"
# in the commands to have the desired effects in interactive shells.
_mk_cmd_fns() {
    while [ -n "$1" ]; do
        # Example "cmd-foo" -> cmd-foo() { . "/path/to/cmd-foo" "$@"; }
        eval "$1() { . \"$(cmpath "$1")\" \"\$@\"; }"
        shift
    done
}

# Make the functions.
_mk_cmd_fns cdh cmcd cmls cds cdl mkcd
